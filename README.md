# django-jupyter-notebook
Jupyter notebook for django to try models

## Required package to install

```
pip install django-extensions jupyter ipython notebook == 6.5.6
```

[why notebook == 6.5.6?](https://stackoverflow.com/questions/78094928/commanderror-could-not-load-shell-runner-ipython-notebook)

## setting.py add below codes.

```
SHELL_PLUS = "ipython"

SHELL_PLUS_PRINT_SQL = True

NOTEBOOK_ARGUMENTS = [
    "--ip",
    "0.0.0.0",
    "--port",
    "8888",
    "--allow-root",
    "--no-browser",
]

IPYTHON_ARGUMENTS = [
    "--ext",
    "django_extensions.management.notebook_extension",
    "--debug",
]

IPYTHON_KERNEL_DISPLAY_NAME = "Django Shell-Plus"

SHELL_PLUS_POST_IMPORTS = [ # extra things to import in notebook
    ("module1.submodule", ("func1", "func2", "class1", "etc")),
    ("module2.submodule", ("func1", "func2", "class1", "etc"))

]

os.environ["DJANGO_ALLOW_ASYNC_UNSAFE"] = "true" # only use in development 
```
### Explanation

`SHELL_PLUS = "ipython"`

This setting specifies that the interactive shell should use IPython instead of the default Python shell

`SHELL_PLUS_PRINT_SQL = True`

When set to True, this setting will print SQL queries to the console when executed in the shell. This is useful for debugging and understanding the SQL generated by Django ORM queries.

**NOTEBOOK_ARGUMENTS**:

This list specifies the arguments to be passed to the Jupyter Notebook server when it is started. These arguments are:
`"--ip", "0.0.0.0"`: Binds the notebook server to all available IP addresses, making it accessible from any network interface.
`"--port", "8888"`: Sets the port on which the notebook server will run (default is 8888).
`"--allow-root"`: Allows the notebook server to be run as the root user (not recommended in production environments).
`"--no-browser"`: Prevents the notebook server from automatically opening a web browser upon startup.

**IPYTHON_ARGUMENTS**:

This list specifies the arguments to be passed to IPython. These arguments are:
`"--ext"`, `"django_extensions.management.notebook_extension"`: Loads a custom extension provided by django-extensions for better integration with Django projects.

`"--debug"`: Enables debug mode in IPython.

`IPYTHON_KERNEL_DISPLAY_NAME = "Django Shell-Plus"`:

This setting specifies the display name for the IPython kernel when used in a Jupyter Notebook. It helps in identifying the kernel among others that might be available.

**SHELL_PLUS_POST_IMPORTS**:

This setting allows you to automatically import additional modules, functions, or classes when the shell starts. It is a list of tuples where each tuple consists of:
The module or submodule to import from.
A tuple of the names of functions, classes, or other objects to import from the specified module.
For example:

```
SHELL_PLUS_POST_IMPORTS = [
    ("module1.submodule", ("func1", "func2", "class1", "etc")),
    ("module2.submodule", ("func1", "func2", "class1", "etc"))
]
```

`os.environ["DJANGO_ALLOW_ASYNC_UNSAFE"] = "true"`:

This line sets an environment variable DJANGO_ALLOW_ASYNC_UNSAFE to true. It allows Django to be used with asynchronous code, which is generally unsafe and not recommended for production. This setting should only be used in a development environment for testing purposes.
[Ref link](https://stackoverflow.com/questions/62193187/django-shell-plus-how-to-access-jupyter-notebook-in-docker-container)

## Cmd to run django shell in jupyter kernal

```
python manage.py shell_plus --notebook
```
